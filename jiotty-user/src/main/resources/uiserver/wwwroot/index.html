<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Automator UI</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom styles -->
    <link href="style.css" rel="stylesheet">
</head>
<body>
<div class="container-fluid container-root p-2">
    <!-- Main tabs (desktop and mobile fallback) -->
    <ul class="nav nav-tabs desktop-tabs" id="mainTab" role="tablist">
        <li class="nav-item">
            <button aria-controls="state-pane" aria-selected="true" class="nav-link active" data-bs-target="#state-pane" data-bs-toggle="tab" id="state-tab"
                    role="tab"
                    type="button">
                State
            </button>
        </li>
        <li class="nav-item">
            <button aria-controls="options-pane" aria-selected="false" class="nav-link" data-bs-target="#options-pane" data-bs-toggle="tab" id="options-tab"
                    role="tab"
                    type="button">
                Options
            </button>
        </li>
        <li class="nav-item">
            <button aria-controls="charging-pane" aria-selected="false" class="nav-link" data-bs-target="#charging-pane" data-bs-toggle="tab" id="charging-tab"
                    role="tab" type="button">
                Charging
            </button>
        </li>
    </ul>
    <div class="tab-content mt-3">
        <!-- State pane -->
        <div aria-labelledby="state-tab" class="tab-pane fade show active" id="state-pane" role="tabpanel">
            <ul class="nav nav-tabs" id="stateTab" role="tablist"></ul>
            <div class="tab-content mt-3" id="stateTabContent"></div>
        </div>

        <!-- Options pane -->
        <div aria-labelledby="options-tab" class="tab-pane fade" id="options-pane" role="tabpanel">
            <div class="options-container mx-auto">
                <form id="optionsForm">
                    <ul class="nav nav-tabs" id="optionsTab" role="tablist"></ul>
                    <div class="tab-content mt-3" id="optionsTabContent"></div>
                </form>
            </div>
        </div>

        <!-- Charging pane -->
        <div aria-labelledby="charging-tab" class="tab-pane fade" id="charging-pane" role="tabpanel">
            <div class="border rounded p-2" id="chargeChartContainer">
                <canvas id="combinedChart"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Bottom navigation (mobile only) -->
<nav class="navbar fixed-bottom bg-light border-top bottom-nav d-none">
    <div class="container d-flex justify-content-around">
        <button aria-label="State" class="btn nav-switch active" data-target="#state-pane">
            <i class="bi bi-speedometer2"></i>
            <div class="small">State</div>
        </button>
        <button aria-label="Options" class="btn nav-switch" data-target="#options-pane">
            <i class="bi bi-gear"></i>
            <div class="small">Options</div>
        </button>
        <button aria-label="Charging" class="btn nav-switch" data-target="#charging-pane">
            <i class="bi bi-lightning-charge"></i>
            <div class="small">Charging</div>
        </button>
    </div>
</nav>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Chart libraries for Charging tab -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.js"></script>
<script src="displayable-sse.js"></script>
<script src="long-term-charge-chart.js"></script>
<script src="ui.js"></script>
</body>
</html>
